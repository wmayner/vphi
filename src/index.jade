doctype html
html(lang='en' ng-app="vphi")
head
  meta(charset='utf-8')
  meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
  meta(name='viewport', content='width=device-width')
  title vphi
  // Online/Offline
  // link(href='//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css', rel='stylesheet', type='text/css')
  link(href='/bower_components/bootstrap/dist/css/bootstrap.css', rel='stylesheet', type='text/css')
  // TODO load minified versions
  link(href='bower_components/c3/c3.css', rel='stylesheet', type='text/css')
  link(href='/css/app.css', rel='stylesheet', type='text/css')

  // Online/Offline
  script(src='/bower_components/angular/angular.min.js')
body
  .container-fluid
    .row.clearfix
      .col-md-6
        #graph-editor-module.well.module
          h2.module-title Network
          .row.clearfix
            .col-md-12
              #graph-editor-container(vphi-graph-editor-canvas)
          .row.clearfix
            .col-md-12
              form.form-horizontal.control-panel(role="form")
                .form-group.form-group-lg
                  label.control-label.col-sm-5(for="past-state-chooser") Past state:
                  .col-sm-7
                    button#past-state-chooser.btn.btn-lg.btn-default.dropdown-toggle(type='button', data-toggle='dropdown', aria-expanded='false')
                      #selected-past-state 1, 1, 0
                      span.caret
                      span.sr-only Toggle past state selection dropdown
                    ul#possible-past-states.dropdown-menu(role='menu')
                      li
                        strong A, B, C
      .col-md-6
        #concept-space-module.well.module
          h2.module-title Conceptual structure
          .row.clearfix
            .col-md-12.column
              #concept-space-container
                #concept-space-overlay.hidden &nbsp;
              #concept-space-loading-spinner.hidden
                .tetrominos
                  .tetromino.box1
                  .tetromino.box2
                  .tetromino.box3
                  .tetromino.box4
          .row.row-centered.clearfix
            .col-centered
              .control-panel.btn-toolbar(role='toolbar')
                .btn-group.pull-right
                  button#reset-camera.btn.btn-lg.btn-default(type='button')
                    | Reset Camera
                  button#switch-view.btn.btn-lg.btn-default(type='button')
                    | Switch View
                  button#toggle-grids.btn.btn-lg.btn-default(type='button')
                    | Toggle Grids
    .row.row-centered.clearfix
      .col-centered
        #main-control-module.module
          .control-panel.btn-toolbar(role='toolbar')
            .btn-group
              button#btn-calculate.btn.btn-lg.btn-primary(type='button', data-loading-text='Calculating…', ng-controller="vphiCalculateButtonCtrl" ng-click="click()")
                | Calculate Φ
              button#output-phi.btn.btn-lg.btn-default.disabled
                | ···
    .row.clearfix
      .col-md-12
        #concept-list-module.module(ng-controller="vphiConceptListCtrl")
          h2.module-title Concepts
          .concept.well(phi-concept, ng-repeat="concept in concepts", id="concept-{{$index}}")
            .row.clearfix
              .col-md-5.repertoire-container
                h4 Past Repertoire
                .repertoire(vphi-repertoire-chart, direction="cause")
              .col-md-2.concept-data
                hr
                button.mechanism.btn.btn-lg.btn-primary
                  | {{getMechanism(concept)}}
                hr
                .output-label φ:
                button.btn.btn-lg.btn-default
                  | {{getSmallPhi(concept)}}
                h4.cut
              .col-md-5.repertoire-container
                h4 Future Repertoire
                .repertoire(vphi-repertoire-chart, direction="effect")

  // TODO *** minify
  
  // Online/Offline
  // script(src='//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
  script(src='/bower_components/jquery/jquery.min.js')

  // TODO minify?
  script(src='/bower_components/jquery-jsonrpcclient/jquery.jsonrpcclient.js')

  // Online/Offline
  script(src='/bower_components/underscore/underscore.js')

  // Online/Offline
  // TODO get minified versions
  // script(src='//cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.js')
  script(src='/bower_components/d3/d3.js')

  // TODO get minified versions
  // Online/Offline
  script(src='/bower_components/c3/c3.js')

  // Online/Offline
  // script(src='//cdnjs.cloudflare.com/ajax/libs/three.js/r69/three.js')
  script(src='/bower_components/threejs/build/three.js')

  script(src='/js/lib/TrackballControls.js')
  script(src='/js/lib/Detector.js')

  script(src='/js/app.js')

  // Online/Offline
  // script(src='//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js')
  script(src='/bower_components/bootstrap/dist/js/bootstrap.js')
